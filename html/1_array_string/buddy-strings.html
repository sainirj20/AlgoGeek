<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <link rel="stylesheet" href="../../css/snippet.css">
  <link rel="stylesheet" href="../../css/solution.css">
  <link rel="stylesheet" href="../../css/tab.css">
</head>
<body>
    <h1>LeetCode Problem</h1>
    <section class="section" style="--c: black">
        <question_title>859. Buddy Strings</question_title>
        <a href="https://leetcode.com/problems/buddy-strings/description/">Link to LeetCode</a>
        <question>
            Given two strings s and goal, return true if you can swap two letters in s so the result is equal to goal, otherwise, return false.

            Swapping letters is defined as taking two indices i and j (0-indexed) such that i != j and swapping the characters at s[i] and s[j].

            For example, swapping at indices 0 and 2 in "abcd" results in "cbad".
        </question>
        <question>
            Example 1:
            Input: s = "ab", goal = "ba"
            Output: true
            Explanation: You can swap s[0] = 'a' and s[1] = 'b' to get "ba", which is equal to goal.
            
            Example 2:
            Input: s = "ab", goal = "ab"
            Output: false
            Explanation: The only letters you can swap are s[0] = 'a' and s[1] = 'b', which results in "ba" != goal.
        </question>
        <snippet>
class Solution {
    public boolean buddyStrings(String a, String b) {
        if(a == null || b == null || a.length() != b.length() ||  a.length() < 2 ) {
            return false;
        }
        
        int index1 = -1,index2 = -1;
        
        for (int i=0; i< a.length(); i++) {
            if (a.charAt(i) != b.charAt(i)) {
                if (index1 == -1) { index1 = i; } 
                else if (index2 == -1) { index2 = i; }
                else { return false; }
            }
        }
        if (index1 == -1 && index2 == -1) {
            return hasDuplicate(a);
        } else if (index1 == -1 || index2 == -1) {
            return false;
        }
        
        return a.charAt(index1) == b.charAt(index2) && a.charAt(index2) == b.charAt(index1);
    }
    
    // in case: a="gool", b="gool", duplicate oo can be swapped
    private boolean hasDuplicate(String a) {
        Set< Character> set = new HashSet<>();
        for (int i=0; i< a.length(); i++) {
            if (!set.add(a.charAt(i))) {
                return true;
            }
        }
        return false;
    }
}
        </snippet>
    </section>
</body>
<script src="../../js/solution.js"> </script>
<script src="../../js/snippet.js"> </script>
<script src="../../js/footer.js"> </script>
</html>